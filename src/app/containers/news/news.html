<app-menu></app-menu>

<div class="news-container">
  <h1>Actualités & Météo</h1>

  <div class="weather-section">
    <h2>🌤️ Météo - Barcy</h2>
    <div class="weather-api-container">
      <ng-container *ngIf="loading">Chargement de la météo...</ng-container>
      <ng-container *ngIf="error">{{ error }}</ng-container>
      <ng-container *ngIf="weatherData && !loading">
        <div class="weather-main">
          <img [src]="getWeatherIconUrl(weatherData.weather[0].icon)" [alt]="weatherData.weather[0].description"
            width="80" height="80" />
          <div class="weather-info">
            <div class="temp">{{ weatherData.main.temp | number:'1.0-1' }}°C</div>
            <div class="desc">{{ weatherData.weather[0].description | titlecase }}</div>
            <div class="city">Barcy</div>
          </div>
        </div>
        <div class="weather-details">
          <span>Ressenti : {{ weatherData.main.feels_like | number:'1.0-1' }}°C</span>
          <span>Humidité : {{ weatherData.main.humidity }}%</span>
          <span>Vent : {{ weatherData.wind.speed }} m/s</span>
        </div>
      </ng-container>
    </div>
  </div>
</div>