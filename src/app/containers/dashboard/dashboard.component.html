<app-menu></app-menu>

<div class="dashboard-container">
  <h1>Tableau de bord</h1>

  <div class="dashboard-sections">
    <!-- Statistiques g√©n√©rales -->
    <div class="dashboard-section">
      <h2>üìä Vue d'ensemble</h2>
      <app-stats-display [stats]="stats()" [count]="0" countLabel="">
      </app-stats-display>
    </div>

    <!-- Top 5 -->
    <div class="dashboard-section">
      <h2>üèÜ Top 5</h2>

      <div class="top5-grid">
        <!-- Top 5 Livres -->
        <div class="top5-category">
          <h3>üìñ Livres les plus lus</h3>
          <div class="top5-list">
            @for (book of topBooks(); track book.title; let i = $index) {
            <div class="top5-item">
              <span class="rank">#{{ i + 1 }}</span>
              <span class="title">{{ book.title }}</span>
              <span class="count"
                >{{ book.readTimes }}x ({{ book.formattedReadingTime }})</span
              >
            </div>
            } @if (topBooks().length === 0) {
            <div class="no-data">Aucun livre relu</div>
            }
          </div>
        </div>

        <!-- Top 5 Mangas -->
        <div class="top5-category">
          <h3>üìö Mangas les plus lus</h3>
          <div class="top5-list">
            @for (manga of topMangas(); track manga.title; let i = $index) {
            <div class="top5-item">
              <span class="rank">#{{ i + 1 }}</span>
              <span class="title">{{ manga.title }}</span>
              <span class="count"
                >{{ manga.readTimes }}x ({{ manga.formattedReadingTime }})</span
              >
            </div>
            } @if (topMangas().length === 0) {
            <div class="no-data">Aucun manga relu</div>
            }
          </div>
        </div>

        <!-- Top 5 Films -->
        <div class="top5-category">
          <h3>üé¨ Films les plus vus</h3>
          <div class="top5-list">
            @for (movie of topMovies(); track movie.title; let i = $index) {
            <div class="top5-item">
              <span class="rank">#{{ i + 1 }}</span>
              <span class="title">{{ movie.title }}</span>
              <span class="count"
                >{{ movie.timesWatched }}x ({{
                  movie.formattedWatchingTime
                }})</span
              >
            </div>
            } @if (topMovies().length === 0) {
            <div class="no-data">Aucun film revu</div>
            }
          </div>
        </div>

        <!-- Top 5 S√©ries -->
        <div class="top5-category">
          <h3>üì∫ S√©ries les plus vues</h3>
          <div class="top5-list">
            @for (serie of topSeries(); track serie.title; let i = $index) {
            <div class="top5-item">
              <span class="rank">#{{ i + 1 }}</span>
              <span class="title">{{ serie.title }}</span>
              <span class="count"
                >{{ serie.timesWatched }}x ({{
                  serie.formattedWatchingTime
                }})</span
              >
            </div>
            } @if (topSeries().length === 0) {
            <div class="no-data">Aucune s√©rie revue</div>
            }
          </div>
        </div>

        <!-- Top 5 Jeux -->
        <div class="top5-category">
          <h3>üéÆ Jeux avec le plus de temps pass√©</h3>
          <div class="top5-list">
            @for (game of topGames(); track game.title; let i = $index) {
            <div class="top5-item">
              <span class="rank">#{{ i + 1 }}</span>
              <span class="title">{{ game.title }}</span>
              <span class="count">{{ game.formattedPlayedTime }}</span>
            </div>
            } @if (topGames().length === 0) {
            <div class="no-data">Aucun jeu avec du temps pass√©</div>
            }
          </div>
        </div>
      </div>
    </div>
  </div>
</div>
